<!doctype html> 
<html lang="it" ng-app="TTBApp">

    <head>
        <meta charset="utf-8">
        <title>TheTaskBoard for dummies!</title>
        <!-- Importing angular js . . . -->
        <script src="./fwks/angularjs-1.5.0-rc.0.js"> </script>
        <script src="./fwks/angularjs-route-1.5.0-rc.0.js"> </script>
        
        <!-- Importing TheTaskBoard app code . . . -->
        <script src="./scripts/TheTaskBoard-app.js"> </script>
        
        <!-- Static resources and bootstrap csses . . . -->
        <link rel="stylesheet" type="text/css" href="./css/TheTaskBoard-global.css" >
        <link rel="stylesheet" type="text/css" href="./css/bootstrap-3.3.0-min.css" >
        
    </head>
    
    <body>
        
        <div class="container">
            <!-- Page header -->
            <header id="headerWrapper" class="jumbotron" ng-controller="TTBHeaderCtrl">
                <h1>{{appDetails.title}}<h1>
                <p>{{appDetails.tagline}}</p>
            </header>

            <!-- *************************************************************************
                                             Project section
                 ************************************************************************* -->
            <div id="projectWrapper" ng-controller="TTBProjectsCtrl"
                 class="">
                <!-- Sezione di ricerca -->
                <form role="form">
                  <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search here..." ng-model="prjSearchStr">
                  </div>
                </form>



                <!-- Lista progetti -->
                <ul class="list-unstyled">
                    <li class="project" ng-repeat="project in projects | filter:prjSearchStr" style="background: no-repeat" tooltip="{{project.description}}"> <!-- title="{{project.description}}" -->
                        <div class="prj-details clearfix">
                            <!-- Project fields: 
                                * id
                                * name
                                * description
                                * dateOpen
                                * dateClose
                                * dateLastModified
                                * status
                                * assignedTo
                                * effort
                                * taskList
                            -->
                            <h3>{{project.id}}</h3>
                            <p>{{project.name}}</p>
                            <p>{{project.status}}</p>
                            <button class="btn btn-info" ng-click="loadProjectTasks(project)">Load Project</button>
                            <button class="btn btn-info" ng-click="deleteProject(project)">Delete Project</button>
                        </div>
                    </li>
                </ul>
            </div>


            <!-- *************************************************************************
                                                 Task section
                 ************************************************************************* -->
            <div id="taskWrapper" ng-controller="TTBTasksCtrl" class="">
                <!-- Sezione di ricerca -->
                <form role="form">
                  <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search here..." ng-model="tskSearchStr">
                  </div>
                </form>



                <!-- Lista progetti -->
                <ul class="list-unstyled">
                    <li class="task" ng-repeat="task in tasks | filter:tskSearchStr" style="background: no-repeat" tooltip="{{task.description}}"> <!-- title="{{project.description}}" -->
                        <div class="tsk-details clearfix">
                            <!-- Task fields: 
                                * id
                                * name
                                * description
                                * dateOpen
                                * dateClose
                                * dateLastModified
                                * status
                                * assignedTo
                                * effort
                            -->
                            <h3>{{task.id}}</h3>
                            <p>{{task.name}}</p>
                            <p>{{task.status}}</p>
                            <button class="btn btn-info" ng-click="updateTask(task)">Update Task</button>
                            <button class="btn btn-info" ng-click="deleteTask(task)">Delete task</button>
                        </div>
                    </li>
                </ul>
            </div>
      
        </div>
        
    </body>
    
</html>